<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>step02_dom_event.html</title>
    <style>
        .hide {
            display: none;
        }
        .invalid {
            border: 2px solid red;
        }
        #invalid {
            color : red
        }
    </style>
</head>
<body>
    <h1>Menu</h1>
    <div id="sub">설명</div>

    <hr>

    <h3>서비스</h3>
    <button id="check" class="tab" name="checkName">조회</button>
    <button id="transfer" class="tab">이체</button>
    <ul class="checkService hide">
        <li>계좌조회</li>
        <li>수표조회</li>
        <li>오픈뱅킹</li>
    </ul>

    <div id="content"></div>
    <div id="content2"></div>

    <h3>이메일</h3>
    <input type="email" name="email" id="email">
    <div id="invalid"></div>
    <div id="output"></div>
    
    <hr>
    <h3>대문자만 입력</h3>
    <div>
        <label for="coupon">쿠폰입력</label>
        <input type="text" id="coupon">
    </div>

    <script>
        //
        const coupon = document.getElementById('coupon');
        coupon.addEventListener('keyup', () => {
            console.log(coupon.value.toUpperCase());
            coupon.value = coupon.value.toUpperCase();
        });



        const sub = document.getElementById('sub');
        const check = document.querySelector('#check');
        // step01 인라인 방식
        // 조회 버튼 "클릭" -> div#content 글자 출력
        
        // function showContent() {
        //     document.querySelector('#content').innerHTML = "조회서비스";
        // };
 
        // step02 프로퍼티 방식
        // 한계 : 같은 이벤트는 중복 등록 불가능
        // check.onclick = function showContent() {
        //     document.querySelector('#content').innerHTML = "조회서비스";
        // };

        // check.onclick = function showContent2() {
        //     document.querySelector('#content2').innerHTML = "조회서비스2";
        // };

        // check.onmouseover = function test() {
        //     console.log("test")
        // };

        // step03 : addEventListener
        check.addEventListener('click', ()=> {
            document.querySelector('#content').innerHTML = "조회서비스";    
        });
        check.addEventListener('click', ()=> {
            document.querySelector('#content2').innerHTML = "조회서비스2";    
        });

        // 이벤트
        // Mouse
        // click, dblclick, mouseover, mouseup, mousedown ...
        // ex 서비스
        check.addEventListener('mousedown', function mouseDown() {
            console.log("mousedown");
        });
        
        // ex mouseover
        // checkService => 사라졌다가 보여지도록 지정
        const checkService = document.querySelector('.checkService');
        check.addEventListener('mouseover', function() {
            console.log(checkService.classList);
            checkService.classList.remove('hide');
        });
        
        // mouse ?
        

        // focus
        // 이메일 입력값 --> @ 포함이 되면 유효한 이메일
        const email = document.getElementById('email');
        const invaild = document.getElementById('invalid');
        const output= document.getElementById('output');

        // focus 
        email.addEventListener('focus', function() {
            email.style.background = 'gold';
            if(this.classList.contains('invalid')) {
                email.classList.remove('invalid');
                invaild.innerHTML ='';
            }
        });

        // blur
        email.addEventListener('blur', function() {
            if(!email.value.includes('@')){
                email.classList.add('invalid');
                invalid.innerHTML = '올바른 이메일을 입력하세요';
                output.innerHTML = '';
            }
            email.style.background ='';
            output.innerHTML = '';
        });

        
        // keyboard
        // keydown,keyup, ...





    </script>
</body>
</html>